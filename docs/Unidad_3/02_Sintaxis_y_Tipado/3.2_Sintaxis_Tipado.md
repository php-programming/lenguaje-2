# 3.2 Sintaxis, Tipado y Variables

## Caso de Uso

**Escenario:** Un sistema financiero calcula intereses compuestos.
**Riesgo:** Si el sistema trata la tasa de interés "5.5" como una cadena de texto en lugar de un número flotante, el cálculo matemático fallará o dará resultados erróneos, causando pérdidas financieras.
**Requisito:** Control estricto sobre los tipos de datos y su manipulación.

---

## Fundamentos del Lenguaje PHP

PHP (PHP: Hypertext Preprocessor) es un lenguaje de script de propósito general. Su sintaxis deriva de C, Java y Perl.

### 1. Delimitadores y Salida

El código PHP se incrusta en HTML. El intérprete ignora todo lo que está fuera de las etiquetas `<?php ... ?>`.

```php
<h1>Título Estático</h1>
<?php
    // Esto es procesado por el servidor
    echo "<p>Contenido Dinámico generado el " . date('Y-m-d') . "</p>";
?>
```

*   **`echo` vs `print`:** Ambos envían datos a la salida. `echo` es ligeramente más rápido y permite múltiples parámetros. `print` se comporta como una función y devuelve `1`, lo que permite usarlo en expresiones complejas.

### 2. Sistema de Tipos (Type System)

PHP es un lenguaje de **tipado dinámico** (las variables no requieren declaración de tipo explícita) y **débilmente tipado** (realiza conversiones de tipo automáticas o "type juggling").

Sin embargo, el PHP moderno (8.0+) fomenta un estilo de **tipado fuerte** para la robustez.

#### Tipos Escalares Primitivos

| Tipo | Descripción | Ejemplo | Memoria (aprox) |
| :--- | :--- | :--- | :--- |
| **Integer** | Números enteros (con signo). | `$edad = 25;` | 4/8 bytes |
| **Float** | Números de punto flotante (precisión doble). | `$precio = 19.99;` | 8 bytes |
| **String** | Secuencia de caracteres. | `$nombre = "Ana";` | Variable |
| **Boolean** | Valor de verdad lógico. | `$activo = true;` | 1 byte |

#### Inspección de Tipos (Debugging)

Para un ingeniero, saber el valor de una variable no es suficiente; debe conocer su tipo y estructura interna.

*   **`var_dump($var)`:** Muestra información estructurada sobre una o más expresiones, incluyendo su tipo y valor. Es la herramienta de diagnóstico principal.
*   **`gettype($var)`:** Devuelve el tipo de la variable como string.

### 3. Operadores: La Lógica Matemática

Los operadores son los bloques de construcción de los algoritmos.

#### Aritméticos
Más allá de `+`, `-`, `*`, `/`, el operador **Módulo (`%`)** es crítico en ingeniería. Devuelve el resto de una división entera.
*   *Uso:* Determinar paridad (`$n % 2 == 0`), distribuir carga en servidores (Round Robin), criptografía.

#### Lógicos y de Comparación
La distinción entre igualdad (`==`) e identidad (`===`) es una fuente común de bugs de seguridad.

*   **`$a == $b` (Igualdad):** PHP intenta convertir los tipos antes de comparar. `"1"` es igual a `1`. **Inseguro** en muchos contextos.
*   **`$a === $b` (Identidad):** Compara valor Y tipo. `"1"` NO es igual a `1`. **Recomendado** por defecto en ingeniería de software moderna.

```php
$input_usuario = "0"; // String desde un formulario
$es_admin = false;    // Boolean

// Error común: Type Juggling
// "0" se convierte a false en comparación débil? En algunos lenguajes sí, en PHP depende.
// Mejor práctica: Comparación estricta
if ($input_usuario === 0) { ... }
```
