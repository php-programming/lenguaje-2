# 14.2 Integración de JavaScript en el Proyecto

## Caso de Uso

**Escenario:** Tenemos nuestra estructura MVC con Vistas en PHP. Queremos añadir interactividad (ej. un menú desplegable o validación de formularios) sin ensuciar el código HTML con lógica de script.
**Requisito:** Separar el comportamiento (JS) de la estructura (HTML) y el estilo (CSS), siguiendo el principio de "Separation of Concerns".

---

## Métodos de Inclusión

Existen tres formas de integrar JavaScript, pero solo una es profesionalmente aceptable en una arquitectura de ingeniería.

### 1. Inline (No Recomendado)
Escribir código dentro de los atributos HTML.
```html
<!-- MALA PRÁCTICA: Difícil de mantener y depurar -->
<button onclick="alert('Hola')">Click</button>
```

### 2. Interno (Prototipado)
Escribir código dentro de etiquetas `<script>` en el mismo archivo. Útil solo para pruebas rápidas.
```html
<script>
    console.log('Esto ensucia la vista');
</script>
```

### 3. Externo (Estándar de Ingeniería)
Vincular un archivo `.js` separado. Esto permite que el navegador cachee el archivo, mejorando el rendimiento.

**Estructura de Archivos:**
```text
/public
    /assets
        /js
            app.js      <-- Lógica global
            validaciones.js
    index.php
```

**Vinculación en el Layout Principal:**
En nuestro sistema MVC, esto se hace en `vistas/layouts/layout_principal.php`.

```html
<!-- Al final del body para no bloquear el renderizado -->
<script src="<?= HelperUrl::crear('assets/js/app.js') ?>"></script>
</body>
```

## El Evento `DOMContentLoaded`

Un error común es intentar manipular un elemento del DOM antes de que exista. Para evitar esto, siempre envolvemos nuestra lógica inicial en un "Event Listener".

```javascript
// assets/js/app.js

document.addEventListener('DOMContentLoaded', function() {
    console.log('El DOM está listo. Podemos manipular elementos seguros.');
    
    // Aquí inicializamos nuestros componentes
    iniciarMenu();
    validarFormularios();
});
```
